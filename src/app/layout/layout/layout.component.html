<div class="main-layout">
  <app-header></app-header>
  <app-banner></app-banner>

  <div class="product-section-wrapper">
    <div class="product-grid-header">
      <div class="left-info">
        <span>{{ totalProducts }} ITEMS</span>
        <span class="toggleFilters" (click)="toggleFilters()">
          <img
            *ngIf="!showFilters"
            src="assets/arrow-right.svg"
            alt="profile logo"
            width="12"
            height="12"
          />
          <img
            *ngIf="showFilters"
            src="assets/arrow-left.svg"
            alt="profile logo"
            width="12"
            height="12"
          />
          {{ showFilters ? "HIDE FILTER" : "SHOW FILTER" }}
        </span>
      </div>

      <div
        class="custom-dropdown"
        (click)="toggleDropdown()"
        [class.open]="dropdownOpen"
      >
        <div class="selected-option">{{ getLabel(selectedSort) }}</div>
        <img src="assets/arrow-down.svg" class="arrow-icon" alt="arrow" />

        <ul *ngIf="dropdownOpen" class="dropdown-list">
          <li (click)="selectSort('recommended')">RECOMMENDED</li>
          <li (click)="selectSort('byRating')">BY RATING</li>
          <li (click)="selectSort('priceHigh')">PRICE : HIGH TO LOW</li>
          <li (click)="selectSort('priceLow')">PRICE : LOW TO HIGH</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="content">
    <app-filter-sidebar
      *ngIf="showFilters"
      [visible]="showFilters"
      (categoryFilterChanged)="onFilterChange($event)"
    ></app-filter-sidebar>
    <app-product-grid
      [sortBy]="selectedSort"
      [selectedCategories]="selectedCategories"
      (productCount)="getProductCount($event)"
    ></app-product-grid>
  </div>

  <app-footer></app-footer>
</div>
